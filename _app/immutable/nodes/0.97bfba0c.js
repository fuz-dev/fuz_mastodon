import{r as be,u as Ne,n as W,v as re,e as j,s as R,w as gt,d as v,c as L,x as T,i as O,y as ie,z as ae,A as oe,H as pt,B as vt,b as C,f as S,g as z,h as p,C as P,D as _e,E as Me,F as Ce,p as Se,G as V,I as Ie,J as B,j as Oe,K as Ve,k as ue,L as pe,l as he,m as ze,M as Re,N as ve,O as Pt,P as Vt,Q as Ut,q as Be,R as Ht,S as Yt}from"../chunks/scheduler.54f81dca.js";import{S as F,i as J,a as N,t as D,b as X,d as Q,m as G,e as q,g as me,c as fe}from"../chunks/index.8a4bbf37.js";import{w as le}from"../chunks/index.a659a8a0.js";import{s as Ae,P as jt,t as Bt,e as ce,u as Ue,g as Ke,a as Xe,o as Kt,d as bt}from"../chunks/PendingAnimation.f2a6b370.js";const yt=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,Xt=!0,ul=Object.freeze(Object.defineProperty({__proto__:null,prerender:Xt},Symbol.toStringTag,{value:"Module"}));const Gt=[{name:"hue_1",light:"210",summary:"blue"},{name:"color_1",light:"hsl(var(--hue_1), 55%, 50%)",dark:"hsl(var(--hue_1), 55%, 75%)"},{name:"hue_2",light:"120",summary:"green, triad with `--color_3` and `--color_4`"},{name:"color_2",light:"hsl(var(--hue_2), 55%, 32%)",dark:"hsl(var(--hue_2), 45%, 70%)",summary:"same as THEME_COLOR"},{name:"hue_3",light:"251",summary:"purple, triad with `--color_2` and `--color_4`"},{name:"color_3",light:"hsl(var(--hue_3), 50%, 50%)",dark:"hsl(var(--hue_3), 50%, 75%)"},{name:"hue_4",light:"26",summary:"orange, triad with `--color_2` and `--color_3`"},{name:"color_4",light:"hsl(var(--hue_4), 55%, 50%)",dark:"hsl(var(--hue_4), 65%, 75%)"},{name:"hue_5",light:"0",summary:"red"},{name:"color_5",light:"hsl(var(--hue_5), 50%, 50%)",dark:"hsl(var(--hue_5), 50%, 65%)"},{name:"hue_6",light:"32",summary:"brown"},{name:"color_6",light:"hsl(var(--hue_6), 97%, 22%)",dark:"hsl(var(--hue_6), 32%, 75%)"},{name:"hue_7",light:"335",summary:"pink"},{name:"color_7",light:"hsl(var(--hue_7), 74%, 56%)",dark:"hsl(var(--hue_7), 74%, 76%)"},{name:"darken_1",light:"#0000000f",summary:"6%"},{name:"darken_2",light:"#0000001f",summary:"12%"},{name:"darken_3",light:"#00000036",summary:"21%"},{name:"darken_4",light:"#00000052",summary:"32%"},{name:"darken_5",light:"#00000073",summary:"45%"},{name:"darken_6",light:"#000000a6",summary:"65%"},{name:"darken_7",light:"#000000cc",summary:"80%"},{name:"darken_8",light:"#000000e3",summary:"89%"},{name:"darken_9",light:"#000000f5",summary:"96%"},{name:"lighten_1",light:"#ffffff0f",summary:"6%"},{name:"lighten_2",light:"#ffffff1f",summary:"12%"},{name:"lighten_3",light:"#ffffff36",summary:"21%"},{name:"lighten_4",light:"#ffffff52",summary:"32%"},{name:"lighten_5",light:"#ffffff73",summary:"45%"},{name:"lighten_6",light:"#ffffffa6",summary:"65%"},{name:"lighten_7",light:"#ffffffcc",summary:"80%"},{name:"lighten_8",light:"#ffffffe3",summary:"89%"},{name:"lighten_9",light:"#fffffff5",summary:"96%"},{name:"tint_hue",light:"var(--hue_4)"},{name:"tint_saturation",light:"11%"},{name:"bg",light:"hsl(var(--tint_hue), var(--tint_saturation), 96%)",dark:"hsl(var(--tint_hue), var(--tint_saturation), 7%)"},{name:"fg",light:"hsl(var(--tint_hue), var(--tint_saturation), 7%)",dark:"hsl(var(--tint_hue), var(--tint_saturation), 96%)"},{name:"bg_1",light:"var(--lighten_1)",dark:"var(--darken_1)"},{name:"bg_2",light:"var(--lighten_2)",dark:"var(--darken_2)"},{name:"bg_3",light:"var(--lighten_3)",dark:"var(--darken_3)"},{name:"bg_4",light:"var(--lighten_4)",dark:"var(--darken_4)"},{name:"bg_5",light:"var(--lighten_5)",dark:"var(--darken_5)"},{name:"bg_6",light:"var(--lighten_6)",dark:"var(--darken_6)"},{name:"bg_7",light:"var(--lighten_7)",dark:"var(--darken_7)"},{name:"bg_8",light:"var(--lighten_8)",dark:"var(--darken_8)"},{name:"bg_9",light:"var(--lighten_9)",dark:"var(--darken_9)"},{name:"fg_1",light:"var(--darken_1)",dark:"var(--lighten_1)"},{name:"fg_2",light:"var(--darken_2)",dark:"var(--lighten_2)"},{name:"fg_3",light:"var(--darken_3)",dark:"var(--lighten_3)"},{name:"fg_4",light:"var(--darken_4)",dark:"var(--lighten_4)"},{name:"fg_5",light:"var(--darken_5)",dark:"var(--lighten_5)"},{name:"fg_6",light:"var(--darken_6)",dark:"var(--lighten_6)"},{name:"fg_7",light:"var(--darken_7)",dark:"var(--lighten_7)"},{name:"fg_8",light:"var(--darken_8)",dark:"var(--lighten_8)"},{name:"fg_9",light:"var(--darken_9)",dark:"var(--lighten_9)"},{name:"text_color",light:"var(--text_1)"},{name:"text_1",light:"hsl(var(--tint_hue), var(--tint_saturation), 16%)",dark:"hsl(var(--tint_hue), var(--tint_saturation), 80%)"},{name:"text_2",light:"hsl(var(--tint_hue), var(--tint_saturation), 32%)",dark:"hsl(var(--tint_hue), var(--tint_saturation), 65%)"},{name:"text_3",light:"hsl(var(--tint_hue), var(--tint_saturation), 48%)",dark:"hsl(var(--tint_hue), var(--tint_saturation), 50%)"},{name:"text_disabled",light:"var(--text_3)"},{name:"text_active",light:"hsl(var(--hue_1), 55%, 40%);",dark:"hsl(var(--hue_1), 65%, 65%);"},{name:"line_height",light:"1.25"},{name:"font_family",light:"system-ui, ui-sans-serif, 'Segoe UI Variable Text', 'Segoe UI', Meiryo, Roboto, 'Helvetica Neue', Arial, sans-serif"},{name:"font_family_mono",light:"ui-monospace, 'Fira Mono', monospace"},{name:"size_xs",light:"1rem"},{name:"size_sm",light:"1.3rem"},{name:"size_md",light:"1.6rem"},{name:"size_lg",light:"2.04rem"},{name:"size_1",light:"2.59rem"},{name:"size_2",light:"3.29rem"},{name:"size_3",light:"4.19rem"},{name:"size_4",light:"5.33rem"},{name:"size_5",light:"6.78rem"},{name:"size_6",light:"8.62rem"},{name:"size_7",light:"10.97rem"},{name:"size_8",light:"13.95rem"},{name:"size_9",light:"17.74rem"},{name:"link_color",light:"hsl(var(--hue_1), 61%, 35%)",dark:"hsl(var(--hue_1), 61%, 58%)"},{name:"text_decoration",light:"none"},{name:"text_decoration_hover",light:"underline"},{name:"text_decoration_selected",light:"underline"},{name:"link_active",light:"var(--text_color)"},{name:"spacing_xs5",light:"0.1rem"},{name:"spacing_xs4",light:"0.2rem"},{name:"spacing_xs3",light:"0.3rem"},{name:"spacing_xs2",light:"0.4rem"},{name:"spacing_xs",light:"0.6rem"},{name:"spacing_sm",light:"0.8rem"},{name:"spacing_md",light:"1rem"},{name:"spacing_lg",light:"1.3rem"},{name:"spacing_1",light:"1.6rem"},{name:"spacing_2",light:"2.1rem"},{name:"spacing_3",light:"2.6rem"},{name:"spacing_4",light:"3.3rem"},{name:"spacing_5",light:"4.2rem"},{name:"spacing_6",light:"5.4rem"},{name:"spacing_7",light:"6.9rem"},{name:"spacing_8",light:"8.7rem"},{name:"spacing_9",light:"11.1rem"},{name:"width_md",light:"800px"},{name:"width_sm",light:"320px"},{name:"border_color",light:"var(--border_3)"},{name:"border_1",light:"hsl(var(--tint_hue), 60%, 20%, 15%)",dark:"hsl(var(--tint_hue), 60%, 80%, 85%)"},{name:"border_2",light:"hsl(var(--tint_hue), 60%, 20%, 25%)",dark:"hsl(var(--tint_hue), 60%, 80%, 70%)"},{name:"border_3",light:"hsl(var(--tint_hue), 60%, 20%, 35%)",dark:"hsl(var(--tint_hue), 60%, 80%, 50%)"},{name:"border_4",light:"hsl(var(--tint_hue), 60%, 20%, 45%)",dark:"hsl(var(--tint_hue), 60%, 80%, 40%)"},{name:"border_5",light:"hsl(var(--tint_hue), 60%, 20%, 60%)",dark:"hsl(var(--tint_hue), 60%, 80%, 30%)"},{name:"border_disabled",light:"var(--border_3)"},{name:"border_width",light:"var(--border_width_1)"},{name:"border_width_1",light:"1px"},{name:"border_width_2",light:"2px"},{name:"border_width_3",light:"3px"},{name:"border_width_4",light:"4px"},{name:"border_width_5",light:"6px"},{name:"border_width_6",light:"8px"},{name:"border_style",light:"solid"},{name:"outline_width",light:"var(--outline_width_1)"},{name:"outline_width_1",light:"0"},{name:"outline_width_2",light:"var(--border_width_2)"},{name:"outline_width_3",light:"var(--border_width_1)"},{name:"outline_style",light:"solid"},{name:"outline_color",light:"var(--color_1)"},{name:"button_bg",light:"var(--fg_1)"},{name:"button_bg_hover",light:"var(--fg_2)"},{name:"button_bg_active",light:"var(--bg_3)"},{name:"button_bg_disabled",light:"transparent"},{name:"input_bg",light:"var(--bg_5)"},{name:"input_padding_y",light:"var(--spacing_md)"},{name:"input_padding_x",light:"var(--spacing_lg)"},{name:"input_width_min",light:"100px"},{name:"input_height",light:"var(--spacing_5)"},{name:"input_height_sm",light:"var(--spacing_4)"},{name:"input_height_inner",light:"calc(var(--input_height) - 2 * var(--border_width) - 2 * var(--input_padding_y))"},{name:"box_shadow",light:"2px 4px 9px hsla(var(--tint_hue), var(--tint_saturation), 7%, 0.28), 2px 14px 48px hsla(var(--tint_hue), var(--tint_saturation), 7%, 0.28)",dark:"2px 4px 9px hsla(var(--tint_hue), var(--tint_saturation), 82%, var(--faded_5)), 2px 14px 48px hsla(var(--tint_hue), var(--tint_saturation), 82%, var(--faded_5))"},{name:"box_shadow_lg",light:"2px 6px 14px hsla(var(--tint_hue), var(--tint_saturation), 7%, 0.8), 2px 6px 48px hsla(var(--tint_hue), var(--tint_saturation), 7%, 0.8)",dark:"2px 6px 18px hsla(var(--tint_hue), var(--tint_saturation), 82%, var(--faded_5)), 2px 6px 48px hsla(var(--tint_hue), var(--tint_saturation), 82%, var(--faded_5))"},{name:"drop_shadow",light:"drop-shadow(var(--box_shadow))"},{name:"drop_shadow_lg",light:"drop-shadow(var(--box_shadow_lg))"},{name:"icon_size",light:"var(--icon_size_md)"},{name:"icon_size_xs",light:"18px"},{name:"icon_size_sm",light:"32px"},{name:"icon_size_md",light:"48px"},{name:"icon_size_lg",light:"80px"},{name:"icon_size_1",light:"128px"},{name:"icon_size_2",light:"196px"},{name:"icon_size_3",light:"316px"},{name:"icon_size_4",light:"512px"},{name:"duration_1",light:"0.08s"},{name:"duration_2",light:"0.2s"},{name:"duration_3",light:"0.5s"},{name:"duration_4",light:"1s"},{name:"duration_5",light:"1.5s"},{name:"duration_6",light:"3s"},{name:"faded_1",light:"86%"},{name:"faded_2",light:"62%"},{name:"faded_3",light:"38%"},{name:"faded_4",light:"24%"},{name:"faded_5",light:"15%"},{name:"faded_6",light:"9%"},{name:"disabled_opacity",light:"var(--faded_1)"},{name:"border_radius",light:"var(--border_radius_md)"},{name:"border_radius_md",light:"calc(var(--input_height) / 2)"},{name:"border_radius_sm",light:"calc(var(--border_radius_md) / 1.618)"},{name:"border_radius_xs",light:"calc(var(--border_radius_sm) / 1.618)"},{name:"border_radius_xs2",light:"calc(var(--border_radius_xs) / 1.618)"}],kt={name:"base",variables:[]},He=[kt,{name:"low contrast",variables:[{name:"tint_saturation",light:"8%"},{name:"bg",light:"hsl(var(--tint_hue), var(--tint_saturation), 86%)",dark:"hsl(var(--tint_hue), var(--tint_saturation), 18%)"}]},{name:"high contrast",variables:[{name:"bg",light:"#fff",dark:"#000"},{name:"text_1",light:"hsl(var(--tint_hue), var(--tint_saturation), 8%)",dark:"hsl(var(--tint_hue), var(--tint_saturation), 90%)"},{name:"text_2",light:"hsl(var(--tint_hue), var(--tint_saturation), 16%)",dark:"hsl(var(--tint_hue), var(--tint_saturation), 83%)"},{name:"text_3",light:"hsl(var(--tint_hue), var(--tint_saturation), 24%)",dark:"hsl(var(--tint_hue), var(--tint_saturation), 75%)"}]}],Le=["light","auto","dark"],qt="#257e25",Wt=n=>{n==="dark"||n!=="light"&&matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},Ye="color-scheme",Ft=(n,e=Ye)=>{try{n===null?localStorage.removeItem(e):localStorage.setItem(e,n)}catch{}},Jt=(n="auto",e=Ye)=>{let t;try{t=localStorage.getItem(e)}catch{return n}return Le.includes(t)?t:n},wt="theme",Qt=(n,e=wt)=>{try{n===null?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(n))}catch{}},Zt=(n=He[0],e=wt)=>{try{const t=localStorage.getItem(e),l=t===null?t:JSON.parse(t);if(l)return l}catch{}return n},$t=(n="light",e=Ye)=>`
	try {
		let c = localStorage.getItem('${e}');
		if (c === 'auto' || (c !== 'dark' && c !== 'light')) {
			c = matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
		}
		if (c === 'dark') document.documentElement.classList.add('dark');
	} catch (_) { ${n==="dark"?"document.documentElement.classList.add('dark');":""} }
`,en=n=>`<style nonce="%sveltekit.nonce%">
	${n}
</style>`,tn=(n,e={})=>{const{comments:t=!1,id:l=null,empty_default_theme:a=!0,specificity:o=2}=e,s=n.name===He[0].name?a?null:Gt:n.variables;if(!(s!=null&&s.length))return"";const i=s.map(c=>Ge(c)).filter(Boolean),r=s.map(c=>Ge(c,!0,t)).filter(Boolean),_=(l?"#"+l:":root").repeat(o);return`${i.length?`${_} {
	${i.join(`
	`)}
}`:""}
${r.length?`${_}.dark {
	${r.join(`
	`)}
}`:""}
`.trim()},Ge=(n,e=!1,t=!0)=>{const l=e?n.dark:n.light;return l?"--"+n.name+": "+l+";"+(t&&n.summary?" /* "+n.summary+" */":""):""},Et=Symbol("theme"),nn=()=>Ne(Et),ln=n=>be(Et,n),Tt=Symbol("color_scheme"),sn=()=>Ne(Tt),rn=n=>be(Tt,n),an=n=>({style:n&1,theme_style_html:n&2,theme_setup_script:n&4,selected_theme:n&8,selected_color_scheme:n&16}),qe=n=>({style:n[0],theme_style_html:n[1],theme_setup_script:n[2],selected_theme:n[3],selected_color_scheme:n[4]});function We(n){let e,t;return{c(){e=new pt(!1),t=j(),this.h()},l(l){e=vt(l,!1),t=j(),this.h()},h(){e.a=t},m(l,a){e.m(n[1],l,a),O(l,t,a)},p(l,a){a&2&&e.p(l[1])},d(l){l&&(v(t),e.d())}}}function Fe(n){let e,t,l,a,o,s;return{c(){e=C("meta"),t=R(),l=C("meta"),a=R(),o=C("script"),s=new pt(!1),this.h()},l(i){e=S(i,"META",{name:!0,content:!0}),t=L(i),l=S(i,"META",{name:!0,content:!0}),a=L(i),o=S(i,"SCRIPT",{});var r=z(o);s=vt(r,!1),r.forEach(v),this.h()},h(){p(e,"name","color-scheme"),p(e,"content",n[6]),p(l,"name","theme-color"),p(l,"content",n[5]),s.a=null},m(i,r){O(i,e,r),O(i,t,r),O(i,l,r),O(i,a,r),O(i,o,r),s.m(n[2],o)},p(i,r){r&64&&p(e,"content",i[6]),r&32&&p(l,"content",i[5]),r&4&&s.p(i[2])},d(i){i&&(v(e),v(t),v(l),v(a),v(o))}}}function on(n){let e,t,l,a,o=n[1]&&We(n),s=n[2]&&Fe(n);const i=n[22].default,r=re(i,n,n[21],qe);return{c(){o&&o.c(),e=j(),s&&s.c(),t=j(),l=R(),r&&r.c()},l(_){const c=gt("svelte-1qw2uo0",document.head);o&&o.l(c),e=j(),s&&s.l(c),t=j(),c.forEach(v),l=L(_),r&&r.l(_)},m(_,c){o&&o.m(document.head,null),T(document.head,e),s&&s.m(document.head,null),T(document.head,t),O(_,l,c),r&&r.m(_,c),a=!0},p(_,[c]){_[1]?o?o.p(_,c):(o=We(_),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),_[2]?s?s.p(_,c):(s=Fe(_),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),r&&r.p&&(!a||c&2097183)&&ie(r,i,_,_[21],a?oe(i,_[21],c,an):ae(_[21]),qe)},i(_){a||(N(r,_),a=!0)},o(_){D(r,_),a=!1},d(_){_&&v(l),o&&o.d(_),v(e),s&&s.d(_),v(t),r&&r.d(_)}}}function _n(n,e,t){let l,a,o,s,i=P,r=()=>(i(),i=_e(U,E=>t(19,s=E)),U),_,c=P,h=()=>(c(),c=_e(w,E=>t(20,_=E)),w);n.$$.on_destroy.push(()=>i()),n.$$.on_destroy.push(()=>c());let{$$slots:f={},$$scope:d}=e,{sync_color_scheme:u=Wt}=e,{load_color_scheme:m=Jt}=e,{save_color_scheme:g=Ft}=e,{load_theme:I=Zt}=e,{save_theme:k=Qt}=e,{selected_theme:U=le(I())}=e;r(),ln(U);let{selected_color_scheme:w=le(m())}=e;h(),rn(w);let{color_scheme_fallback:b=void 0}=e,{color_scheme_css:M=void 0}=e,{theme_color:A=void 0}=e,{style:x=null}=e,{theme_style_html:K=null}=e,{theme_setup_script:H=null}=e,Z=0,$=0,ee=0;return n.$$set=E=>{"sync_color_scheme"in E&&t(7,u=E.sync_color_scheme),"load_color_scheme"in E&&t(8,m=E.load_color_scheme),"save_color_scheme"in E&&t(9,g=E.save_color_scheme),"load_theme"in E&&t(10,I=E.load_theme),"save_theme"in E&&t(11,k=E.save_theme),"selected_theme"in E&&r(t(3,U=E.selected_theme)),"selected_color_scheme"in E&&h(t(4,w=E.selected_color_scheme)),"color_scheme_fallback"in E&&t(12,b=E.color_scheme_fallback),"color_scheme_css"in E&&t(13,M=E.color_scheme_css),"theme_color"in E&&t(14,A=E.theme_color),"style"in E&&t(0,x=E.style),"theme_style_html"in E&&t(1,K=E.theme_style_html),"theme_setup_script"in E&&t(2,H=E.theme_setup_script),"$$scope"in E&&t(21,d=E.$$scope)},n.$$.update=()=>{n.$$.dirty&524288&&t(18,l=s.name),n.$$.dirty&786432&&t(0,x=l===kt.name?null:tn(s)),n.$$.dirty&1&&t(1,K=x?en(x):null),n.$$.dirty&4096&&t(2,H=$t(b)),n.$$.dirty&1081472&&t(15,Z++,Z)&&(u==null||u(_)),n.$$.dirty&1114624&&t(16,$++,$)&&(g==null||g(_)),n.$$.dirty&657408&&t(17,ee++,ee)&&(k==null||k(s)),n.$$.dirty&12288&&t(6,a=M??(b==="dark"||b==="light"?b:matchMedia("(prefers-color-scheme: dark)").matches?"dark light":"light dark")),n.$$.dirty&16384&&t(5,o=A??qt)},[x,K,H,U,w,o,a,u,m,g,I,k,b,M,A,Z,$,ee,l,s,_,d,f]}class cn extends F{constructor(e){super(),J(this,e,_n,on,W,{sync_color_scheme:7,load_color_scheme:8,save_color_scheme:9,load_theme:10,save_theme:11,selected_theme:3,selected_color_scheme:4,color_scheme_fallback:12,color_scheme_css:13,theme_color:14,style:0,theme_style_html:1,theme_setup_script:2})}}const Ee=n=>{if(!n)return!1;const{tagName:e}=n;if(e==="INPUT"){const{type:t}=n;return t==="text"||t==="number"||t==="password"||t==="email"||t==="search"||t==="url"}return e==="TEXTAREA"||n.contentEditable==="true"},ge=(n,e=!0,t=!0)=>(t&&n.preventDefault(),e?n.stopImmediatePropagation():n.stopPropagation(),n);function un(n){let e,t,l;const a=n[4].default,o=re(a,n,n[3],null);return{c(){e=C("div"),o&&o.c(),this.h()},l(s){e=S(s,"DIV",{class:!0});var i=z(e);o&&o.l(i),i.forEach(v),this.h()},h(){p(e,"class","teleport svelte-gjkzv5"),e.hidden=t=!n[1]},m(s,i){O(s,e,i),o&&o.m(e,null),n[5](e),l=!0},p(s,[i]){o&&o.p&&(!l||i&8)&&ie(o,a,s,s[3],l?oe(a,s[3],i,null):ae(s[3]),null),(!l||i&2&&t!==(t=!s[1]))&&(e.hidden=t)},i(s){l||(N(o,s),l=!0)},o(s){D(o,s),l=!1},d(s){s&&v(e),o&&o.d(s),n[5](null)}}}function hn(n,e,t){let{$$slots:l={},$$scope:a}=e;const o=Me();let{to:s}=e,i,r=!1;const _=(h,f)=>{t(1,r=!0),f.appendChild(h),o("move",{el:h,to:f})};Ce(()=>{var h;(h=i==null?void 0:i.parentNode)==null||h.removeChild(i)});function c(h){Se[h?"unshift":"push"](()=>{i=h,t(0,i)})}return n.$$set=h=>{"to"in h&&t(2,s=h.to),"$$scope"in h&&t(3,a=h.$$scope)},n.$$.update=()=>{n.$$.dirty&5&&i&&s&&_(i,s)},[i,r,s,a,l,c]}class mn extends F{constructor(e){super(),J(this,e,hn,un,W,{to:2})}}const{window:fn}=yt,dn=n=>({}),Je=n=>({close:n[7]});function Qe(n){let e;const t=n[10].default,l=re(t,n,n[15],Je);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,o){l&&l.m(a,o),e=!0},p(a,o){l&&l.p&&(!e||o&32768)&&ie(l,t,a,a[15],e?oe(t,a[15],o,dn):ae(a[15]),Je)},i(a){e||(N(l,a),e=!0)},o(a){D(l,a),e=!1},d(a){l&&l.d(a)}}}function gn(n){let e,t,l,a,o,s,i,r,_,c=n[6]&&Qe(n);return{c(){e=C("div"),t=C("div"),l=C("div"),a=C("div"),o=R(),s=C("div"),c&&c.c(),this.h()},l(h){e=S(h,"DIV",{class:!0,role:!0,"aria-modal":!0,tabindex:!0});var f=z(e);t=S(f,"DIV",{class:!0});var d=z(t);l=S(d,"DIV",{class:!0});var u=z(l);a=S(u,"DIV",{class:!0,role:!0}),z(a).forEach(v),o=L(u),s=S(u,"DIV",{class:!0,role:!0});var m=z(s);c&&c.l(m),m.forEach(v),u.forEach(v),d.forEach(v),f.forEach(v),this.h()},h(){p(a,"class","dialog_bg svelte-1u54ehg"),p(a,"role","none"),B(a,"ready",n[6]),p(s,"class","dialog_content svelte-1u54ehg"),p(s,"role","none"),p(l,"class","dialog_wrapper svelte-1u54ehg"),p(t,"class","dialog_layout svelte-1u54ehg"),p(e,"class","dialog svelte-1u54ehg"),p(e,"role","dialog"),p(e,"aria-modal",""),p(e,"tabindex","-1"),B(e,"ready",n[6]),B(e,"layout-page",n[0]==="page"),Oe(e,"z-index",100+n[1])},m(h,f){O(h,e,f),T(e,t),T(t,l),T(l,a),T(l,o),T(l,s),c&&c.m(s,null),n[11](s),n[13](e),i=!0,r||(_=[V(a,"mousedown",n[7]),V(s,"mousedown",n[12])],r=!0)},p(h,f){(!i||f&64)&&B(a,"ready",h[6]),h[6]?c?(c.p(h,f),f&64&&N(c,1)):(c=Qe(h),c.c(),N(c,1),c.m(s,null)):c&&(me(),D(c,1,1,()=>{c=null}),fe()),(!i||f&64)&&B(e,"ready",h[6]),(!i||f&1)&&B(e,"layout-page",h[0]==="page"),f&2&&Oe(e,"z-index",100+h[1])},i(h){i||(N(c),i=!0)},o(h){D(c),i=!1},d(h){h&&v(e),c&&c.d(),n[11](null),n[13](null),r=!1,Ve(_)}}}function pn(n){let e,t,l,a;return e=new mn({props:{to:n[3],$$slots:{default:[gn]},$$scope:{ctx:n}}}),e.$on("move",n[14]),{c(){X(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,s){G(e,o,s),t=!0,l||(a=V(fn,"keydown",function(){Ie(n[2]?n[8]:void 0)&&(n[2]?n[8]:void 0).apply(this,arguments)}),l=!0)},p(o,[s]){n=o;const i={};s&8&&(i.to=n[3]),s&32883&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(o){t||(N(e.$$.fragment,o),t=!0)},o(o){D(e.$$.fragment,o),t=!1},d(o){q(e,o),l=!1,a()}}}const Ze="body",$e="dialog_open",et="--dialog_open_padding_right",tt="dialog";function vn(n,e,t){let{$$slots:l={},$$scope:a}=e;const o=Me();let{container:s=void 0}=e,{layout:i="centered"}=e,{index:r=0}=e,{active:_=!0}=e,c;const h=b=>{if(b)t(3,c=b);else{const M=document.getElementById(tt);if(M)t(3,c=M);else{const A=document.querySelector(Ze);if(!A)throw Error(`Cannot find dialog root element with selector '${Ze}'`);t(3,c=document.createElement("div")),t(3,c.id=tt,c),t(3,c.style.display="contents",c),A.appendChild(c)}}};let f,d;const u=b=>{b&&ge(b),o("close")},m=b=>{var M;if(b.key==="Escape"&&!Ee(b.target)){const A=f.parentElement,x=(M=A==null?void 0:A.parentElement)==null?void 0:M.children,K=Array.prototype.indexOf.call(x,A);(!x||K===x.length-1||K===-1)&&u(b)}};let g=!1;Ce(()=>{r===0&&(document.body.classList.remove($e),document.body.style.setProperty(et,null))});function I(b){Se[b?"unshift":"push"](()=>{d=b,t(5,d)})}const k=b=>{b.target===d&&u(b)};function U(b){Se[b?"unshift":"push"](()=>{f=b,t(4,f)})}const w=()=>{const b=Number(window.getComputedStyle(document.body).getPropertyValue("padding-right").slice(0,-2))||0,M=document.body.clientWidth;document.body.classList.add($e);const x=document.body.clientWidth-M;x>0&&document.body.style.setProperty(et,x+b+"px"),t(6,g=!0),f.focus()};return n.$$set=b=>{"container"in b&&t(9,s=b.container),"layout"in b&&t(0,i=b.layout),"index"in b&&t(1,r=b.index),"active"in b&&t(2,_=b.active),"$$scope"in b&&t(15,a=b.$$scope)},n.$$.update=()=>{n.$$.dirty&512&&h(s)},[i,r,_,c,f,d,g,u,m,s,l,I,k,U,w,a]}class bn extends F{constructor(e){super(),J(this,e,vn,pn,W,{container:9,layout:0,index:1,active:2})}}function yn(n){let e,t,l,a,o="ðŸ”—",s,i,r,_,c,h;return{c(){e=C("li"),t=C("a"),l=C("div"),a=C("div"),a.textContent=o,s=R(),i=C("div"),r=C("span"),_=ue(n[1]),this.h()},l(f){e=S(f,"LI",{role:!0});var d=z(e);t=S(d,"A",{class:!0,role:!0,href:!0,rel:!0});var u=z(t);l=S(u,"DIV",{class:!0});var m=z(l);a=S(m,"DIV",{class:!0,"data-svelte-h":!0}),pe(a)!=="svelte-1a86zw2"&&(a.textContent=o),s=L(m),i=S(m,"DIV",{class:!0});var g=z(i);r=S(g,"SPAN",{class:!0});var I=z(r);_=he(I,n[1]),I.forEach(v),g.forEach(v),m.forEach(v),u.forEach(v),d.forEach(v),this.h()},h(){p(a,"class","icon"),p(r,"class","text svelte-4vzsmg"),p(i,"class","title"),p(l,"class","content"),p(t,"class","menu_item plain svelte-4vzsmg"),p(t,"role","menuitem"),p(t,"href",n[0]),p(t,"rel",n[2]),p(e,"role","none")},m(f,d){O(f,e,d),T(e,t),T(t,l),T(l,a),T(l,s),T(l,i),T(i,r),T(r,_),c||(h=V(t,"click",n[5]),c=!0)},p(f,[d]){d&2&&ze(_,f[1]),d&1&&p(t,"href",f[0]),d&4&&p(t,"rel",f[2])},i:P,o:P,d(f){f&&v(e),c=!1,h()}}}function kn(n,e,t){let l,a,o,{href:s}=e;const i=St(),r=(c,h=location.host)=>{const f=Ae(Ae(c,"https://"),"http://");return f.startsWith(h+"/")?Ae(f,h):f},_=()=>i.close();return n.$$set=c=>{"href"in c&&t(0,s=c.href)},n.$$.update=()=>{n.$$.dirty&1&&t(1,l=r(s)),n.$$.dirty&2&&t(4,a=!(l[0]==="."||l[0]==="/"&&l[1]!=="/")),n.$$.dirty&16&&t(2,o=a?"noreferrer":void 0)},[s,l,o,i,a,_]}class wn extends F{constructor(e){super(),J(this,e,kn,yn,W,{href:0})}}const En=n=>({}),nt=n=>({});function Tn(n){let e;return{c(){e=ue("âš ï¸")},l(t){e=he(t,"âš ï¸")},m(t,l){O(t,e,l)},i:P,o:P,d(t){t&&v(e)}}}function Cn(n){let e,t;return e=new jt({}),{c(){X(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,a){G(e,l,a),t=!0},i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function Sn(n){let e,t,l,a,o,s,i,r,_,c,h,f;const d=n[11].icon,u=re(d,n,n[10],nt),m=n[11].default,g=re(m,n,n[10],null),I=[Cn,Tn],k=[];function U(w,b){return w[1]?0:w[0]?1:-1}return~(i=U(n))&&(r=k[i]=I[i](n)),{c(){e=C("li"),t=C("div"),l=C("div"),u&&u.c(),a=R(),o=C("div"),g&&g.c(),s=R(),r&&r.c(),this.h()},l(w){e=S(w,"LI",{class:!0,role:!0,"aria-label":!0,tabindex:!0,title:!0});var b=z(e);t=S(b,"DIV",{class:!0});var M=z(t);l=S(M,"DIV",{class:!0});var A=z(l);u&&u.l(A),A.forEach(v),a=L(M),o=S(M,"DIV",{class:!0});var x=z(o);g&&g.l(x),x.forEach(v),s=L(M),r&&r.l(M),M.forEach(v),b.forEach(v),this.h()},h(){p(l,"class","icon"),p(o,"class","title"),p(t,"class","content"),p(e,"class","menu_item plain selectable deselectable svelte-10kraez"),p(e,"role","menuitem"),p(e,"aria-label","contextmenu entry"),p(e,"tabindex","-1"),p(e,"title",_=n[0]?`Error: ${n[0]}`:void 0),B(e,"selected",n[2])},m(w,b){O(w,e,b),T(e,t),T(t,l),u&&u.m(l,null),T(t,a),T(t,o),g&&g.m(o,null),T(t,s),~i&&k[i].m(t,null),c=!0,h||(f=[V(e,"click",n[5]),V(e,"mouseenter",n[6])],h=!0)},p(w,[b]){u&&u.p&&(!c||b&1024)&&ie(u,d,w,w[10],c?oe(d,w[10],b,En):ae(w[10]),nt),g&&g.p&&(!c||b&1024)&&ie(g,m,w,w[10],c?oe(m,w[10],b,null):ae(w[10]),null);let M=i;i=U(w),i!==M&&(r&&(me(),D(k[M],1,1,()=>{k[M]=null}),fe()),~i?(r=k[i],r||(r=k[i]=I[i](w),r.c()),N(r,1),r.m(t,null)):r=null),(!c||b&1&&_!==(_=w[0]?`Error: ${w[0]}`:void 0))&&p(e,"title",_),(!c||b&4)&&B(e,"selected",w[2])},i(w){c||(N(u,w),N(g,w),N(r),c=!0)},o(w){D(u,w),D(g,w),D(r),c=!1},d(w){w&&v(e),u&&u.d(w),g&&g.d(w),~i&&k[i].d(),h=!1,Ve(f)}}}function In(n,e,t){let l,a,o,s,i,{$$slots:r={},$$scope:_}=e,{run:c}=e;const h=le(c);Re(n,h,g=>t(9,i=g));const f=St();Re(n,f,g=>t(8,s=g));const d=f.add_entry(h),u=g=>{setTimeout(()=>f.activate(d))},m=g=>{g.stopImmediatePropagation(),f.select(d)};return n.$$set=g=>{"run"in g&&t(7,c=g.run),"$$scope"in g&&t(10,_=g.$$scope)},n.$$.update=()=>{n.$$.dirty&640&&i!==c&&ve(h,i=c,i),n.$$.dirty&256&&t(2,{selected:l,pending:a,error_message:o}=s&&d,l,(t(1,a),t(8,s)),(t(0,o),t(8,s)))},[o,a,l,h,f,u,m,c,s,i,_,r]}class On extends F{constructor(e){super(),J(this,e,In,Sn,W,{run:7})}}function Nn(n){let e;return{c(){e=ue(n[0])},l(t){e=he(t,n[0])},m(t,l){O(t,e,l)},p(t,l){l&1&&ze(e,t[0])},d(t){t&&v(e)}}}function Mn(n){let e;return{c(){e=ue(n[1])},l(t){e=he(t,n[1])},m(t,l){O(t,e,l)},p(t,l){l&2&&ze(e,t[1])},d(t){t&&v(e)}}}function zn(n){let e,t;return e=new On({props:{run:n[2],$$slots:{icon:[Mn],default:[Nn]},$$scope:{ctx:n}}}),{c(){X(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,a){G(e,l,a),t=!0},p(l,[a]){const o={};a&4&&(o.run=l[2]),a&11&&(o.$$scope={dirty:a,ctx:l}),e.$set(o)},i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function Dn(n,e,t){let{content:l}=e,{icon:a}=e,{run:o}=e;return n.$$set=s=>{"content"in s&&t(0,l=s.content),"icon"in s&&t(1,a=s.icon),"run"in s&&t(2,o=s.run)},[l,a,o]}class xn extends F{constructor(e){super(),J(this,e,Dn,zn,W,{content:0,icon:1,run:2})}}const An=n=>{const e=(n==null?void 0:n.link_component)??wn,t=(n==null?void 0:n.text_component)??xn,l=n==null?void 0:n.layout,a=l||le({width:0,height:0}),o={is_menu:!0,menu:null,depth:1,items:[]},s=[],{update:i,set:r,..._}=le({open:!1,params:[],x:0,y:0}),c=()=>i(u=>({...u})),h=u=>{for(const m of u)m.is_menu?h(m.items):(m.promise!==null&&(m.promise=null),m.error_message!==null&&(m.error_message=null))},f=le(void 0),d={..._,root_menu:o,selections:s,layout:a,initial_layout:l,link_component:e,text_component:t,action:Pn(t),error:f,open:(u,m,g)=>{s.length=0,i(I=>({...I,open:!0,params:u,x:m,y:g}))},close:()=>i(u=>u.open?(h(o.items),{...u,open:!1}):u),activate:u=>{if(u.is_menu)d.expand_selected();else{let m;try{m=Pt(u.run)()}catch(g){const I=typeof(g==null?void 0:g.message)=="string"?g.message:void 0;u.error_message=I??"unknown error",f.set(I)}if(m!=null&&m.then){u.pending=!0,u.error_message=null;const g=u.promise=m.then(I=>{if(g===u.promise){if(typeof(I==null?void 0:I.ok)=="boolean")if(I.ok)d.close();else{const k=typeof I.message=="string"?I.message:void 0;u.error_message=k??"unknown error",f.set(k)}else d.close();return I}},I=>{if(g!==u.promise)return;const k=typeof(I==null?void 0:I.message)=="string"?I.message:void 0;u.error_message=k??"unknown error",f.set(k)}).finally(()=>{g===u.promise&&(u.pending=!1,u.promise=null,c())});return c(),u.promise}d.close()}return!0},activate_selected:()=>{const u=s[s.length-1];return u?d.activate(u):d.select_first()},select:u=>{if(s[s.length-1]===u)return;for(const g of s)g.selected=!1;s.length=0;let m=u;do m.selected=!0,s.unshift(m);while((m=m.menu)&&m.menu);c()},collapse_selected:()=>{if(s.length<=1)return;const u=s.pop();u.selected=!1,c()},expand_selected:()=>{const u=s[s.length-1];if(!(u!=null&&u.is_menu))return;const m=u.items[0];m.selected=!0,s.push(m),c()},select_next:()=>{if(!s.length)return d.select_first();const u=s[s.length-1],m=u.menu.items.indexOf(u);d.select(u.menu.items[m===u.menu.items.length-1?0:m+1])},select_previous:()=>{if(!s.length)return d.select_last();const u=s[s.length-1],m=u.menu.items.indexOf(u);d.select(u.menu.items[m===0?u.menu.items.length-1:m-1])},select_first:()=>{var u;return d.select((((u=s[s.length-1])==null?void 0:u.menu)||o).items[0])},select_last:()=>{var m;const{items:u}=((m=s[s.length-1])==null?void 0:m.menu)||o;return d.select(u[u.length-1])},add_entry:u=>{const m=rt()||o,g={is_menu:!1,menu:m,selected:!1,run:u,pending:!1,error_message:null,promise:null};return m.items.push(g),Ce(()=>{m.items.length=0}),g},add_submenu:()=>{const u=rt()||o,m={is_menu:!0,menu:u,depth:u.depth+1,selected:!1,items:[]};return u.items.push(m),Yn(m),Ce(()=>{u.items.length=0}),m}};return d},je="contextmenu",Rn=`a,[data-${je}]`,Te=new Map;let Ln=0;const Pn=n=>(e,t)=>{const l=Ln+++"";return e.dataset[je]=l,Te.set(l,lt(t,n)),{update:a=>{Te.set(l,lt(a,n))},destroy:()=>{Te.delete(l)}}},lt=(n,e)=>Bt(n).filter(Boolean).map(t=>"component"in t&&"props"in t?t:{component:e,props:t}),Vn=17,st=(n,e,t,l)=>{var o;const a=Un(n,l);return a!=null&&a.length?(l.open(a,e,t),(o=navigator.vibrate)==null||o.call(navigator,Vn),!0):!1},Un=(n,e)=>{var r;const{link_component:t,text_component:l}=e;let a=null,o=n,s,i;for(;o=o==null?void 0:o.closest(Rn);){if(s=o.dataset[je]){if(a||(a=[]),i=Te.get(s),i===void 0)continue;for(const _ of i){const{props:c}=_;a!=null&&a.some(h=>h.component===_.component&&Kn(h.props,c))||(a||(a=[])).push(_)}}t&&o.tagName==="A"&&(a||(a=[])).push({component:t,props:{href:o.href}}),o=o.parentElement}if(a){const _=(r=window.getSelection())==null?void 0:r.toString();_&&a.unshift({component:l,props:{content:"Copy text",icon:"ðŸ“‹",run:()=>void navigator.clipboard.writeText(_)}})}return a},Ct=Symbol(),Hn=n=>be(Ct,n),St=()=>Ne(Ct),It=Symbol(),Yn=n=>be(It,n),rt=()=>Ne(It),jn=Symbol(),Bn=()=>{const n=le({width:0,height:0});return be(jn,n),n},Kn=(n,e)=>{if(!n||!e)return n===e;let t=0;for(const l in n){if(n[l]!==e[l])return!1;t++}return t===Object.keys(e).length};const{Map:Xn}=yt;function it(n,e,t){const l=n.slice();return l[39]=e[t],l}function at(n){let e,t;return{c(){e=C("div"),this.h()},l(l){e=S(l,"DIV",{class:!0}),z(e).forEach(v),this.h()},h(){p(e,"class","contextmenu_layout svelte-4twoek"),Vt(()=>n[29].call(e))},m(l,a){O(l,e,a),t=Ut(e,n[29].bind(e))},p:P,d(l){l&&v(e),t()}}}function ot(n){let e,t=[],l=new Xn,a=`translate3d(${n[9]}px, ${n[8]}px, 0)`,o,s=ce(n[6].params);const i=r=>r[39];for(let r=0;r<s.length;r+=1){let _=it(n,s,r),c=i(_);l.set(c,t[r]=_t(c,_))}return{c(){e=C("menu");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=S(r,"MENU",{class:!0,role:!0,tabindex:!0});var _=z(e);for(let c=0;c<t.length;c+=1)t[c].l(_);_.forEach(v),this.h()},h(){p(e,"class","contextmenu pane svelte-4twoek"),p(e,"role","dialog"),p(e,"tabindex","-1"),Oe(e,"transform",a)},m(r,_){O(r,e,_);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null);n[30](e),o=!0},p(r,_){_[0]&64&&(s=ce(r[6].params),me(),t=Ue(t,_,i,1,r,s,l,e,Kt,_t,null,it),fe()),_[0]&768&&a!==(a=`translate3d(${r[9]}px, ${r[8]}px, 0)`)&&Oe(e,"transform",a)},i(r){if(!o){for(let _=0;_<s.length;_+=1)N(t[_]);o=!0}},o(r){for(let _=0;_<t.length;_+=1)D(t[_]);o=!1},d(r){r&&v(e);for(let _=0;_<t.length;_+=1)t[_].d();n[30](null)}}}function _t(n,e){let t,l,a,o;const s=[e[39].props];var i=e[39].component;function r(_,c){let h={};if(c!==void 0&&c[0]&64)h=Ke(s,[Xe(_[39].props)]);else for(let f=0;f<s.length;f+=1)h=Ht(h,s[f]);return{props:h}}return i&&(l=Be(i,r(e))),{key:n,first:null,c(){t=j(),l&&X(l.$$.fragment),a=j(),this.h()},l(_){t=j(),l&&Q(l.$$.fragment,_),a=j(),this.h()},h(){this.first=t},m(_,c){O(_,t,c),l&&G(l,_,c),O(_,a,c),o=!0},p(_,c){if(e=_,c[0]&64&&i!==(i=e[39].component)){if(l){me();const h=l;D(h.$$.fragment,1,0,()=>{q(h,1)}),fe()}i?(l=Be(i,r(e,c)),X(l.$$.fragment),N(l.$$.fragment,1),G(l,a.parentNode,a)):l=null}else if(i){const h=c[0]&64?Ke(s,[Xe(e[39].props)]):{};l.$set(h)}},i(_){o||(l&&N(l.$$.fragment,_),o=!0)},o(_){l&&D(l.$$.fragment,_),o=!1},d(_){_&&(v(t),v(a)),l&&q(l,_)}}}function Gn(n){let e,t,l,a,o,s=!n[4]&&at(n),i=n[7]&&ot(n);return{c(){s&&s.c(),e=R(),i&&i.c(),t=j()},l(r){s&&s.l(r),e=L(r),i&&i.l(r),t=j()},m(r,_){s&&s.m(r,_),O(r,e,_),i&&i.m(r,_),O(r,t,_),l=!0,a||(o=[V(window,"contextmenu",n[11],{passive:!1,capture:!0}),V(window,"touchstart",n[12],{passive:!0,capture:!0}),V(window,"touchmove",n[13],{passive:!0,capture:!0}),V(window,"touchend",n[14],{passive:!1,capture:!0}),V(window,"touchcancel",n[14],{passive:!1,capture:!0}),V(window,"mousedown",function(){Ie(n[7]?n[15]:void 0)&&(n[7]?n[15]:void 0).apply(this,arguments)},{passive:!0,capture:!0}),V(window,"keydown",function(){Ie(n[7]?n[16]:void 0)&&(n[7]?n[16]:void 0).apply(this,arguments)},{passive:!1,capture:!0})],a=!0)},p(r,_){n=r,n[4]?s&&(s.d(1),s=null):s?s.p(n,_):(s=at(n),s.c(),s.m(e.parentNode,e)),n[7]?i?(i.p(n,_),_[0]&128&&N(i,1)):(i=ot(n),i.c(),N(i,1),i.m(t.parentNode,t)):i&&(me(),D(i,1,1,()=>{i=null}),fe())},i(r){l||(N(i),l=!0)},o(r){D(i),l=!1},d(r){r&&(v(e),v(t)),s&&s.d(r),i&&i.d(r),a=!1,Ve(o)}}}function qn(n,e,t){let l,a,o,s,i,r,_,c,h,f,d=P,u=()=>(d(),d=_e(l,y=>t(28,f=y)),l),m,g=P,I=()=>(g(),g=_e(k,y=>t(6,m=y)),k);n.$$.on_destroy.push(()=>d()),n.$$.on_destroy.push(()=>g());let{contextmenu:k}=e;I(),Hn(k);let{longpress_move_tolerance:U=21}=e,{longpress_duration:w=633}=e,{bypass_with_tap_then_longpress:b=!0}=e,{tap_then_longpress_duration:M=660}=e,{tap_then_longpress_move_tolerance:A=7}=e,{open_offset_x:x=-2}=e,{open_offset_y:K=-2}=e,H,Z,$;const ee=Bn();Re(n,ee,y=>t(27,h=y));let E,ye,ke,te,ne,De;const de=()=>{ne&&(ne=!1),te!=null&&(clearTimeout(te),te=null)},Ot=y=>{if(De){De=!1;return}if(ne){de(),ge(y);return}const{target:Y}=y;y.shiftKey||!(Y instanceof HTMLElement||Y instanceof SVGElement)||H!=null&&H.contains(Y)||Ee(Y)||st(Y,y.clientX+x,y.clientY+K,k)&&(ge(y),de())},Nt=y=>{ne&&(ne=!1);const{touches:Y,target:se}=y;if(s||Y.length!==1||y.shiftKey||!(se instanceof HTMLElement||se instanceof SVGElement)||Ee(se))return;const{clientX:we,clientY:xe}=Y[0];if(b){if(ke!=null&&performance.now()-ke<M&&Math.hypot(we-E,xe-ye)<A){De=!0,ke=null;return}ke=performance.now()}E=we,ye=xe,te!=null&&de(),te=setTimeout(()=>{ne=!0,st(se,E+x,ye+K,k)},w)},Mt=y=>{if(te==null)return;const{touches:Y}=y;if(Y.length!==1)return;const{clientX:se,clientY:we}=Y[0];Math.hypot(se-E,we-ye)>U&&(s&&k.close(),de())},zt=y=>{te!=null&&(ne&&ge(y),de())},Dt=y=>{H&&!H.contains(y.target)&&k.close()},xt=new Map([["Escape",k.close],["ArrowLeft",k.collapse_selected],["ArrowRight",k.expand_selected],["ArrowDown",k.select_next],["PageDown",k.select_next],["ArrowUp",k.select_previous],["PageUp",k.select_previous],["Home",k.select_first],["End",k.select_last],[" ",k.activate_selected],["Enter",k.activate_selected]]),At=y=>{const Y=xt.get(y.key);!Y||Ee(y.target)||(ge(y),Y())};function Rt(){$=this.clientHeight,Z=this.clientWidth,t(3,$),t(2,Z)}function Lt(y){Se[y?"unshift":"push"](()=>{H=y,t(1,H)})}return n.$$set=y=>{"contextmenu"in y&&I(t(0,k=y.contextmenu)),"longpress_move_tolerance"in y&&t(17,U=y.longpress_move_tolerance),"longpress_duration"in y&&t(18,w=y.longpress_duration),"bypass_with_tap_then_longpress"in y&&t(19,b=y.bypass_with_tap_then_longpress),"tap_then_longpress_duration"in y&&t(20,M=y.tap_then_longpress_duration),"tap_then_longpress_move_tolerance"in y&&t(21,A=y.tap_then_longpress_move_tolerance),"open_offset_x"in y&&t(22,x=y.open_offset_x),"open_offset_y"in y&&t(23,K=y.open_offset_y)},n.$$.update=()=>{if(n.$$.dirty[0]&1&&u(t(5,{layout:l,initial_layout:a}=k,l,(t(26,a),t(0,k)))),n.$$.dirty[0]&67108896&&t(4,o=l===a),n.$$.dirty[0]&28&&!o&&Z!==void 0&&$!==void 0&&ve(l,f={width:Z,height:$},f),n.$$.dirty[0]&64&&t(7,{open:s,x:i,y:r}=m,s,(t(25,i),t(6,m)),(t(24,r),t(6,m))),n.$$.dirty[0]&2&&H){const y=H.getBoundingClientRect();ve(ee,h={width:y.width,height:y.height},h)}n.$$.dirty[0]&436207616&&t(9,_=i+Math.min(0,f.width-(i+h.width))),n.$$.dirty[0]&419430400&&t(8,c=r+Math.min(0,f.height-(r+h.height)))},[k,H,Z,$,o,l,m,s,c,_,ee,Ot,Nt,Mt,zt,Dt,At,U,w,b,M,A,x,K,r,i,a,h,f,Rt,Lt]}class Wn extends F{constructor(e){super(),J(this,e,qn,Gn,W,{contextmenu:0,longpress_move_tolerance:17,longpress_duration:18,bypass_with_tap_then_longpress:19,tap_then_longpress_duration:20,tap_then_longpress_move_tolerance:21,open_offset_x:22,open_offset_y:23},null,[-1,-1])}}const Pe=(n,e=!0,t=!0)=>(t&&n.preventDefault(),e?n.stopImmediatePropagation():n.stopPropagation(),n);function ct(n,e,t){const l=n.slice();l[5]=e[t];const a=l[5]===l[2];return l[6]=a,l}function ut(n,e){let t,l,a,o,s,i,r,_;function c(...h){return e[4](e[5],...h)}return{key:n,first:null,c(){t=C("button"),l=C("div"),a=ue(e[5]),o=R(),this.h()},l(h){t=S(h,"BUTTON",{class:!0,type:!0,role:!0,title:!0,"aria-checked":!0});var f=z(t);l=S(f,"DIV",{class:!0});var d=z(l);a=he(d,e[5]),d.forEach(v),o=L(f),f.forEach(v),this.h()},h(){p(l,"class","content svelte-j8fh3c"),p(t,"class","color_scheme svelte-j8fh3c"),p(t,"type","button"),p(t,"role","menuitemradio"),p(t,"title",s=e[6]?`${e[5]} color scheme is selected`:`select ${e[5]} color scheme`),p(t,"aria-checked",i=e[6]),B(t,"selected",e[6]),this.first=t},m(h,f){O(h,t,f),T(t,l),T(l,a),T(t,o),r||(_=V(t,"click",c),r=!0)},p(h,f){e=h,f&4&&s!==(s=e[6]?`${e[5]} color scheme is selected`:`select ${e[5]} color scheme`)&&p(t,"title",s),f&4&&i!==(i=e[6])&&p(t,"aria-checked",i),f&4&&B(t,"selected",e[6])},d(h){h&&v(t),r=!1,_()}}}function Fn(n){let e,t=[],l=new Map,a=ce(Le);const o=s=>s[5];for(let s=0;s<a.length;s+=1){let i=ct(n,a,s),r=o(i);l.set(r,t[s]=ut(r,i))}return{c(){e=C("menu");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=S(s,"MENU",{class:!0});var i=z(e);for(let r=0;r<t.length;r+=1)t[r].l(i);i.forEach(v),this.h()},h(){p(e,"class","color_scheme_control svelte-j8fh3c")},m(s,i){O(s,e,i);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(s,[i]){i&14&&(a=ce(Le),t=Ue(t,i,o,1,s,a,l,e,bt,ut,null,ct))},i:P,o:P,d(s){s&&v(e);for(let i=0;i<t.length;i+=1)t[i].d()}}}function Jn(n,e,t){let l,a=P,o=()=>(a(),a=_e(i,c=>t(2,l=c)),i);n.$$.on_destroy.push(()=>a());const s=Me();let{selected_color_scheme:i=sn()}=e;o();let{select:r=c=>{ve(i,l=c,l)}}=e;const _=(c,h)=>{Pe(h),(r==null?void 0:r(c))!==!1&&s("select",c)};return n.$$set=c=>{"selected_color_scheme"in c&&o(t(0,i=c.selected_color_scheme)),"select"in c&&t(1,r=c.select)},[i,r,l,s,_]}class Qn extends F{constructor(e){super(),J(this,e,Jn,Fn,W,{selected_color_scheme:0,select:1})}}function ht(n,e,t){const l=n.slice();l[9]=e[t];const a=l[9].name===l[4];return l[10]=a,l}function mt(n){let e,t="â€¢â€¢â€¢",l,a;function o(...s){return n[8](n[9],...s)}return{c(){e=C("button"),e.textContent=t,this.h()},l(s){e=S(s,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),pe(e)!=="svelte-1br9t0k"&&(e.textContent=t),this.h()},h(){p(e,"type","button"),p(e,"class","icon_button plain svelte-182h20e")},m(s,i){O(s,e,i),l||(a=V(e,"click",o),l=!0)},p(s,i){n=s},d(s){s&&v(e),l=!1,a()}}}function ft(n,e){let t,l,a=e[9].name+"",o,s,i,r,_,c,h;function f(...u){return e[7](e[9],...u)}let d=e[2]&&mt(e);return{key:n,first:null,c(){t=C("li"),l=C("button"),o=ue(a),r=R(),d&&d.c(),_=R(),this.h()},l(u){t=S(u,"LI",{role:!0,class:!0});var m=z(t);l=S(m,"BUTTON",{type:!0,class:!0,role:!0,"aria-label":!0,"aria-checked":!0});var g=z(l);o=he(g,a),g.forEach(v),r=L(m),d&&d.l(m),_=L(m),m.forEach(v),this.h()},h(){p(l,"type","button"),p(l,"class","theme_button svelte-182h20e"),p(l,"role","menuitemradio"),p(l,"aria-label",s=e[9].name+" theme"),p(l,"aria-checked",i=e[10]),B(l,"selected",e[10]),p(t,"role","none"),p(t,"class","svelte-182h20e"),this.first=t},m(u,m){O(u,t,m),T(t,l),T(l,o),T(t,r),d&&d.m(t,null),T(t,_),c||(h=V(l,"click",f),c=!0)},p(u,m){e=u,m&2&&a!==(a=e[9].name+"")&&ze(o,a),m&2&&s!==(s=e[9].name+" theme")&&p(l,"aria-label",s),m&18&&i!==(i=e[10])&&p(l,"aria-checked",i),m&18&&B(l,"selected",e[10]),e[2]?d?d.p(e,m):(d=mt(e),d.c(),d.m(t,_)):d&&(d.d(1),d=null)},d(u){u&&v(t),d&&d.d(),c=!1,h()}}}function Zn(n){let e,t=[],l=new Map,a=ce(n[1]);const o=s=>s[9].name;for(let s=0;s<a.length;s+=1){let i=ht(n,a,s),r=o(i);l.set(r,t[s]=ft(r,i))}return{c(){e=C("menu");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=S(s,"MENU",{class:!0});var i=z(e);for(let r=0;r<t.length;r+=1)t[r].l(i);i.forEach(v),this.h()},h(){p(e,"class","theme_input svelte-182h20e")},m(s,i){O(s,e,i);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(s,[i]){i&62&&(a=ce(s[1]),t=Ue(t,i,o,1,s,a,l,e,bt,ft,null,ht))},i:P,o:P,d(s){s&&v(e);for(let i=0;i<t.length;i+=1)t[i].d()}}}function $n(n,e,t){let l,a,o=P,s=()=>(o(),o=_e(r,u=>t(6,a=u)),r);n.$$.on_destroy.push(()=>o());const i=Me();let{selected_theme:r=nn()}=e;s();let{themes:_=He}=e,{enable_editing:c=!1}=e,{select:h=u=>{ve(r,a=u,a)}}=e;const f=(u,m)=>{Pe(m),(h==null?void 0:h(u))!==!1&&i("select",u)},d=(u,m)=>{Pe(m),i("edit",u)};return n.$$set=u=>{"selected_theme"in u&&s(t(0,r=u.selected_theme)),"themes"in u&&t(1,_=u.themes),"enable_editing"in u&&t(2,c=u.enable_editing),"select"in u&&t(3,h=u.select)},n.$$.update=()=>{n.$$.dirty&64&&t(4,l=a==null?void 0:a.name)},[r,_,c,h,l,i,a,f,d]}class el extends F{constructor(e){super(),J(this,e,$n,Zn,W,{selected_theme:0,themes:1,enable_editing:2,select:3})}}function tl(n){let e,t,l="Settings",a,o,s="Color Scheme",i,r,_,c,h="Theme",f,d,u;return r=new Qn({}),d=new el({}),{c(){e=C("div"),t=C("h1"),t.textContent=l,a=R(),o=C("h2"),o.textContent=s,i=R(),X(r.$$.fragment),_=R(),c=C("h2"),c.textContent=h,f=R(),X(d.$$.fragment),this.h()},l(m){e=S(m,"DIV",{class:!0});var g=z(e);t=S(g,"H1",{"data-svelte-h":!0}),pe(t)!=="svelte-171lafx"&&(t.textContent=l),a=L(g),o=S(g,"H2",{"data-svelte-h":!0}),pe(o)!=="svelte-1dorln8"&&(o.textContent=s),i=L(g),Q(r.$$.fragment,g),_=L(g),c=S(g,"H2",{"data-svelte-h":!0}),pe(c)!=="svelte-1f06jx9"&&(c.textContent=h),f=L(g),Q(d.$$.fragment,g),g.forEach(v),this.h()},h(){p(e,"class","prose padded_1 box")},m(m,g){O(m,e,g),T(e,t),T(e,a),T(e,o),T(e,i),G(r,e,null),T(e,_),T(e,c),T(e,f),G(d,e,null),u=!0},p:P,i(m){u||(N(r.$$.fragment,m),N(d.$$.fragment,m),u=!0)},o(m){D(r.$$.fragment,m),D(d.$$.fragment,m),u=!1},d(m){m&&v(e),q(r),q(d)}}}class nl extends F{constructor(e){super(),J(this,e,null,tl,W,{})}}function dt(n){let e,t;return e=new bn({props:{$$slots:{default:[ll]},$$scope:{ctx:n}}}),e.$on("close",n[5]),{c(){X(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,a){G(e,l,a),t=!0},p(l,a){const o={};a&64&&(o.$$scope={dirty:a,ctx:l}),e.$set(o)},i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function ll(n){let e,t,l;return t=new nl({}),{c(){e=C("div"),X(t.$$.fragment),this.h()},l(a){e=S(a,"DIV",{class:!0});var o=z(e);Q(t.$$.fragment,o),o.forEach(v),this.h()},h(){p(e,"class","pane")},m(a,o){O(a,e,o),G(t,e,null),l=!0},p:P,i(a){l||(N(t.$$.fragment,a),l=!0)},o(a){D(t.$$.fragment,a),l=!1},d(a){a&&v(e),q(t)}}}function sl(n){let e,t,l,a,o;const s=n[2].default,i=re(s,n,n[6],null);t=new Wn({props:{contextmenu:n[1]}});let r=n[0]&&dt(n);return{c(){i&&i.c(),e=R(),X(t.$$.fragment),l=R(),r&&r.c(),a=j()},l(_){i&&i.l(_),e=L(_),Q(t.$$.fragment,_),l=L(_),r&&r.l(_),a=j()},m(_,c){i&&i.m(_,c),O(_,e,c),G(t,_,c),O(_,l,c),r&&r.m(_,c),O(_,a,c),o=!0},p(_,c){i&&i.p&&(!o||c&64)&&ie(i,s,_,_[6],o?oe(s,_[6],c,null):ae(_[6]),null),_[0]?r?(r.p(_,c),c&1&&N(r,1)):(r=dt(_),r.c(),N(r,1),r.m(a.parentNode,a)):r&&(me(),D(r,1,1,()=>{r=null}),fe())},i(_){o||(N(i,_),N(t.$$.fragment,_),N(r),o=!0)},o(_){D(i,_),D(t.$$.fragment,_),D(r),o=!1},d(_){_&&(v(e),v(l),v(a)),i&&i.d(_),q(t,_),r&&r.d(_)}}}function rl(n){let e,t,l,a,o,s,i;return a=new cn({props:{$$slots:{default:[sl]},$$scope:{ctx:n}}}),{c(){e=R(),l=R(),X(a.$$.fragment),this.h()},l(r){gt("svelte-12ht6wg",document.head).forEach(v),e=L(r),l=L(r),Q(a.$$.fragment,r),this.h()},h(){document.title="@fuz.dev/fuz_mastodon"},m(r,_){O(r,e,_),O(r,l,_),G(a,r,_),o=!0,s||(i=Yt(t=n[1].action(document.body,[{content:"Settings",icon:"?",run:n[3]},{content:"Reload",icon:"âŸ³",run:n[4]}])),s=!0)},p(r,[_]){t&&Ie(t.update)&&_&1&&t.update.call(null,[{content:"Settings",icon:"?",run:r[3]},{content:"Reload",icon:"âŸ³",run:r[4]}]);const c={};_&65&&(c.$$scope={dirty:_,ctx:r}),a.$set(c)},i(r){o||(N(a.$$.fragment,r),o=!0)},o(r){D(a.$$.fragment,r),o=!1},d(r){r&&(v(e),v(l)),q(a,r),s=!1,i()}}}function il(n,e,t){let{$$slots:l={},$$scope:a}=e;const o=An();let s=!1;const i=()=>{t(0,s=!0)},r=()=>{location.reload()},_=()=>t(0,s=!1);return n.$$set=c=>{"$$scope"in c&&t(6,a=c.$$scope)},[s,o,l,i,r,_,a]}class hl extends F{constructor(e){super(),J(this,e,il,rl,W,{})}}export{hl as component,ul as universal};
